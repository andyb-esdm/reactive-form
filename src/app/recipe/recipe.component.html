<div class="container">
  <h1>Edit Recipe</h1>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="mb-2">
      <label for="name" class="form-label">Recipe Name</label>
      <input
        type="text"
        id="name"
        formControlName="name"
        class="form-control"
      />
    </div>

    <div class="row">
      <div class="col">
        <label for="description" class="form-label">Description</label>
        <textarea
          id="description"
          class="form-control"
          formControlName="description"
        ></textarea>
      </div>
    </div>

    <h2>Ingredients</h2>
    <ng-container
      formArrayName="ingredients"
      *ngIf="ingredients.controls.length"
    >
      <div class="row mb-2">
        <div class="col-3">Ingredient</div>
        <div class="col-2">Quantity</div>
      </div>
      <div
        *ngFor="let ingredient of ingredients.controls; let i = index"
        [formGroupName]="i"
        class="row mb-1"
      >
        <div class="col-3">
          <input type="text" formControlName="name" class="form-control" />
        </div>
        <div class="col-2">
          <input type="text" formControlName="quantity" class="form-control" />
        </div>
        <div class="col-1">
          <button class="btn btn-danger" (click)="removeIngredient(i)">
            x
          </button>
        </div>
      </div>
    </ng-container>

    <div class="row mt-2">
      <div class="col">
        <button type="button" (click)="addIngredient()" class="btn btn-primary">
          Add Ingredient
        </button>
      </div>
    </div>

    <div class="row mt-2">
      <div class="col">
        <button type="submit" class="btn btn-primary">Save</button>
      </div>
    </div>
  </form>
</div>
